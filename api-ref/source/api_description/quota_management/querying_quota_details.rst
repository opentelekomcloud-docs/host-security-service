:original_name: ListQuotasDetail.html

.. _ListQuotasDetail:

Querying Quota Details
======================

Function
--------

This API is used to query quota details.

URI
---

GET /v5/{project_id}/billing/quotas-detail

.. table:: **Table 1** Path Parameters

   +-----------------+-----------------+-----------------+------------------+
   | Parameter       | Mandatory       | Type            | Description      |
   +=================+=================+=================+==================+
   | project_id      | Yes             | String          | Project ID       |
   |                 |                 |                 |                  |
   |                 |                 |                 | Minimum: **1**   |
   |                 |                 |                 |                  |
   |                 |                 |                 | Maximum: **256** |
   +-----------------+-----------------+-----------------+------------------+

.. table:: **Table 2** Query Parameters

   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Mandatory       | Type            | Description                                                                                                                                                   |
   +=======================+=================+=================+===============================================================================================================================================================+
   | enterprise_project_id | No              | String          | Enterprise project ID. The value **0** indicates the default enterprise project. To query all enterprise projects, set this parameter to **all_granted_eps**. |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Default: **0**                                                                                                                                                |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Minimum: **1**                                                                                                                                                |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Maximum: **256**                                                                                                                                              |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | version               | No              | String          | HSS edition. Its values and their meaning are as follows:                                                                                                     |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | -  hss.version.null: none                                                                                                                                     |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | -  hss.version.enterprise: enterprise edition                                                                                                                 |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | -  hss.version.premium: premium edition                                                                                                                       |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | -  hss.version.container.enterprise: container edition                                                                                                        |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | category              | No              | String          | Type. Its value can be:                                                                                                                                       |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | -  host_resource                                                                                                                                              |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | -  container_resource                                                                                                                                         |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | quota_status          | No              | String          | Quota status. It can be:                                                                                                                                      |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | -  QUOTA_STATUS_NORMAL                                                                                                                                        |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 |    -  QUOTA_STATUS_EXPIRED                                                                                                                                    |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 |    -  QUOTA_STATUS_FREEZE                                                                                                                                     |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_status           | No              | String          | Usage status. It can be:                                                                                                                                      |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | -  USED_STATUS_IDLE                                                                                                                                           |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | -  USED_STATUS_USED                                                                                                                                           |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | host_name             | No              | String          | Server name                                                                                                                                                   |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Minimum: **0**                                                                                                                                                |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Maximum: **128**                                                                                                                                              |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | resource_id           | No              | String          | Specifies the resource ID of the HSS quota.                                                                                                                   |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Minimum: **0**                                                                                                                                                |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Maximum: **128**                                                                                                                                              |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | charging_mode         | No              | String          | on_demand: pay-per-use                                                                                                                                        |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | limit                 | No              | Integer         | Number of records displayed on each page.                                                                                                                     |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Minimum: **10**                                                                                                                                               |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Maximum: **200**                                                                                                                                              |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Default: **10**                                                                                                                                               |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | offset                | No              | Integer         | Offset, which specifies the start position of the record to be returned.                                                                                      |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Minimum: **0**                                                                                                                                                |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Maximum: **2000000**                                                                                                                                          |
   |                       |                 |                 |                                                                                                                                                               |
   |                       |                 |                 | Default: **0**                                                                                                                                                |
   +-----------------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +-----------------+-----------------+-----------------+-------------------+
   | Parameter       | Mandatory       | Type            | Description       |
   +=================+=================+=================+===================+
   | X-Auth-Token    | Yes             | String          | User token.       |
   |                 |                 |                 |                   |
   |                 |                 |                 | Minimum: **32**   |
   |                 |                 |                 |                   |
   |                 |                 |                 | Maximum: **4096** |
   +-----------------+-----------------+-----------------+-------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+
   | Parameter             | Type                                                                                                         | Description               |
   +=======================+==============================================================================================================+===========================+
   | on_demand_num         | Integer                                                                                                      | Pay-per-Use quotas        |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Minimum: **0**            |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Maximum: **10000000**     |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+
   | used_num              | Integer                                                                                                      | Used quotas               |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Minimum: **0**            |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Maximum: **10000000**     |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+
   | idle_num              | Integer                                                                                                      | Idle quotas               |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Minimum: **0**            |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Maximum: **10000000**     |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+
   | normal_num            | Integer                                                                                                      | Normal quotas             |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Minimum: **0**            |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Maximum: **10000000**     |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+
   | expired_num           | Integer                                                                                                      | Expired quotas            |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Minimum: **0**            |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Maximum: **10000000**     |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+
   | freeze_num            | Integer                                                                                                      | Frozen quotas             |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Minimum: **0**            |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Maximum: **10000000**     |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+
   | quota_statistics_list | Array of :ref:`QuotaStatisticsResponseInfo <listquotasdetail__response_quotastatisticsresponseinfo>` objects | Quota statistics list     |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Array Length: **0 - 200** |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+
   | total_num             | Integer                                                                                                      | Total quotas              |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Minimum: **0**            |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Maximum: **10000000**     |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+
   | data_list             | Array of :ref:`QuotaResourcesResponseInfo <listquotasdetail__response_quotaresourcesresponseinfo>` objects   | Quota list                |
   |                       |                                                                                                              |                           |
   |                       |                                                                                                              | Array Length: **0 - 200** |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------+

.. _listquotasdetail__response_quotastatisticsresponseinfo:

.. table:: **Table 5** QuotaStatisticsResponseInfo

   +-----------------------+-----------------------+------------------------------------------------+
   | Parameter             | Type                  | Description                                    |
   +=======================+=======================+================================================+
   | version               | String                | Resource specification code. Its value can be: |
   |                       |                       |                                                |
   |                       |                       | -  hss.version.enterprise: enterprise edition  |
   |                       |                       |                                                |
   |                       |                       | -  hss.version.premium: premium edition        |
   |                       |                       |                                                |
   |                       |                       | -  hss.version.container: container edition    |
   +-----------------------+-----------------------+------------------------------------------------+
   | total_num             | Integer               | Total quotas                                   |
   |                       |                       |                                                |
   |                       |                       | Minimum: **0**                                 |
   |                       |                       |                                                |
   |                       |                       | Maximum: **10000000**                          |
   +-----------------------+-----------------------+------------------------------------------------+

.. _listquotasdetail__response_quotaresourcesresponseinfo:

.. table:: **Table 6** QuotaResourcesResponseInfo

   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter               | Type                                                                 | Description                                                                                                                                                   |
   +=========================+======================================================================+===============================================================================================================================================================+
   | resource_id             | String                                                               | Resource ID of an HSS quota                                                                                                                                   |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Minimum: **0**                                                                                                                                                |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Maximum: **256**                                                                                                                                              |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | version                 | String                                                               | Resource specification code. Its value can be:                                                                                                                |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | -  hss.version.enterprise: enterprise edition                                                                                                                 |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | -  hss.version.premium: premium edition                                                                                                                       |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | -  hss.version.container: container edition                                                                                                                   |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | quota_status            | String                                                               | Quota status. It can be:                                                                                                                                      |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | -  normal                                                                                                                                                     |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      |    -  expired                                                                                                                                                 |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      |    -  freeze                                                                                                                                                  |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | used_status             | String                                                               | Usage status. Its value can be:                                                                                                                               |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | -  idle                                                                                                                                                       |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | -  used                                                                                                                                                       |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | host_id                 | String                                                               | Host ID                                                                                                                                                       |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Minimum: **1**                                                                                                                                                |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Maximum: **64**                                                                                                                                               |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | host_name               | String                                                               | Server name                                                                                                                                                   |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Minimum: **1**                                                                                                                                                |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Maximum: **128**                                                                                                                                              |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | charging_mode           | String                                                               | on_demand: pay-per-use                                                                                                                                        |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                    | Array of :ref:`TagInfo <listquotasdetail__response_taginfo>` objects | Tag                                                                                                                                                           |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Array Length: **0 - 2097152**                                                                                                                                 |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | expire_time             | Long                                                                 | Expiration time. The value -1 indicates that the resource will not expire.                                                                                    |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Minimum: **0**                                                                                                                                                |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Maximum: **2147483647**                                                                                                                                       |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | shared_quota            | String                                                               | Whether quotas are shared. Its value can be:                                                                                                                  |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | -  shared                                                                                                                                                     |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | -  unshared                                                                                                                                                   |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enterprise_project_id   | String                                                               | Enterprise project ID. The value **0** indicates the default enterprise project. To query all enterprise projects, set this parameter to **all_granted_eps**. |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Minimum: **0**                                                                                                                                                |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Maximum: **256**                                                                                                                                              |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enterprise_project_name | String                                                               | Enterprise project name                                                                                                                                       |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Minimum: **0**                                                                                                                                                |
   |                         |                                                                      |                                                                                                                                                               |
   |                         |                                                                      | Maximum: **256**                                                                                                                                              |
   +-------------------------+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _listquotasdetail__response_taginfo:

.. table:: **Table 7** TagInfo

   +-----------------------+-----------------------+---------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                     |
   +=======================+=======================+=================================================================================+
   | key                   | String                | Key. It can contain up to 128 Unicode characters. The key cannot be left blank. |
   |                       |                       |                                                                                 |
   |                       |                       | Minimum: **1**                                                                  |
   |                       |                       |                                                                                 |
   |                       |                       | Maximum: **128**                                                                |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------+
   | value                 | String                | Value. Each tag value can contain a maximum of 255 Unicode characters.          |
   |                       |                       |                                                                                 |
   |                       |                       | Minimum: **1**                                                                  |
   |                       |                       |                                                                                 |
   |                       |                       | Maximum: **255**                                                                |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------+

Example Requests
----------------

This API is used to query quotas details in all enterprise projects.

.. code-block:: text

   GET https://{endpoint}/v5/{project_id}/billing/quotas-detail?offset=0&limit=100&version=hss.version.enterprise&enterprise_project_id=all_granted_eps

Example Responses
-----------------

**Status code: 200**

quota details

.. code-block::

   {
     "data_list" : [ {
       "charging_mode" : "on_demand",
       "expire_time" : -1,
       "host_id" : "71a15ecc-049f-4cca-bd28-5e90aca1817f",
       "host_name" : "zhangxiaodong2",
       "quota_status" : "normal",
       "resource_id" : "af4d08ad-2b60-4916-a5cf-8d6a23956dda",
       "shared_quota" : "shared",
       "tags" : [ {
         "key" : "Service",
         "value" : "HSS"
       } ],
       "used_status" : "used",
       "version" : "hss.version.enterprise"
     } ],
     "expired_num" : 0,
     "freeze_num" : 0,
     "idle_num" : 20,
     "normal_num" : 60,
     "on_demand_num" : 0,
     "quota_statistics_list" : [ {
       "total_num" : 8,
       "version" : "hss.version.enterprise"
     } ],
     "total_num" : 60,
     "used_num" : 40
   }

Status Codes
------------

=========== =============
Status Code Description
=========== =============
200         quota details
=========== =============

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
